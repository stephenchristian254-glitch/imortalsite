<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Action Book: Super Uniqueness Edition</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');

        :root {
            --dark-blue: #00008B;
            --background: #000000;
            --text-color: #FFFFFF;
            --grey-text: #AAAAAA;
            --dark-grey: #111111;
            --gold: #FFD700; 
        }

        /* =================================
           1. PENGATURAN DASAR
        ================================= */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: var(--background);
            color: var(--text-color);
            overflow-x: hidden; 
        }

        h1, h2, h3 { font-weight: 900; }
        p { 
            font-size: 1.1rem; 
            line-height: 1.7; 
            color: var(--grey-text);
            margin-bottom: 1.5rem;
        }
        
        main {
            width: 100%;
            max-width: 800px; 
            margin: 0 auto; 
        }
        
        .content-wrapper {
            padding: 40px 20px; 
            border-bottom: 1px solid #222;
            overflow: hidden;
            position: relative; /* Penting untuk z-index */
            z-index: 1;
        }
        
        .svg-container {
            width: 100%;
            padding: 2rem;
            margin: 2rem 0;
            background: var(--dark-grey);
            border: 1px solid #333;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .svg-container svg {
            width: 100%;
            height: auto;
            max-height: 350px; 
        }
        
        .highlight {
            background-color: var(--dark-blue);
            color: var(--text-color);
            padding: 4px 10px;
            border-radius: 6px;
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }
        
        .action-button {
            background-color: var(--dark-blue);
            color: var(--text-color);
            border: none;
            padding: 15px 35px;
            font-size: 1rem;
            font-weight: bold;
            text-decoration: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        .action-button:hover { transform: scale(1.05); }
        .action-button:disabled { background: #555; cursor: not-allowed; }

        /* =================================
           2. PROGRESS BAR (DI ATAS)
        ================================= */
        #progress-bar-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: var(--dark-grey);
            z-index: 999; 
        }
        #progress-bar {
            width: 0%; 
            height: 100%;
            background: var(--dark-blue);
            transition: width 0.1s linear;
        }

        /* =================================
           3. SECTION: HERO (CSS + SVG)
        ================================= */
        #hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            position: relative;
            max-width: none; 
            background: linear-gradient(-45deg, #000000, #000033, #0a0a0a, #000000);
            background-size: 400% 400%;
            animation: heroGradient 15s ease infinite;
            z-index: 1;
        }
        @keyframes heroGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        #hero-content {
             position: relative;
             z-index: 2; 
        }
        #hero-content svg {
            width: 120px;
            height: 120px;
            margin-bottom: 20px;
        }
        #hero h1 {
            font-size: 3.5rem;
            max-width: 900px;
            line-height: 1.3;
        }

        /* =================================
           4. JUDUL BAB BIASA
        ================================= */
        .chapter-title {
            font-size: 3rem;
            line-height: 1.2;
            margin-bottom: 30px;
            text-align: center;
        }

        /* =================================
           5. ACTION SLIDER (PERSEGI)
        ================================= */
        #interactive-slider-section {
            background: var(--dark-grey);
            padding: 40px 20px;
            position: relative; 
            z-index: 2; 
        }
        #interactive-slider-section h2 {
            font-size: 2rem;
            margin-bottom: 30px;
            text-align: center;
        }
        .comparison-slider {
            width: 100%;
            aspect-ratio: 1 / 1; 
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            border: 2px solid var(--dark-blue);
            background: #111; 
        }
        .comparison-slider svg {
            width: 100%; 
            height: 100%; 
            position: absolute; 
            top: 0; 
            left: 0;
            object-fit: contain; 
            padding: 2rem; 
        }
        .image-before { z-index: 1; }
        .image-after-wrapper {
            position: absolute; top: 0; left: 0;
            width: 50%; height: 100%;
            z-index: 2; overflow: hidden;
            border-right: 4px solid var(--text-color);
        }
        .image-after { z-index: 3; }
        .slider-bar {
            -webkit-appearance: none; appearance: none;
            width: 100%; height: 100%;
            background: transparent;
            position: absolute; top: 0; left: 0;
            z-index: 10; cursor: ew-resize;
        }
        .slider-bar::-webkit-slider-thumb {
             -webkit-appearance: none; appearance: none;
             width: 4px; height: 100vh;
             background: transparent; cursor: ew-resize;
        }

        /* =================================
           6. PARALLAX TRANSITION (CSS)
        ================================= */
        .parallax-transition {
            min-height: 50vh;
            background-size: cover;
            background-position: center;
            background-attachment: fixed; 
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            max-width: none; 
            position: relative; 
            z-index: 1; 
        }
        .parallax-transition h3 {
            font-size: 2.5rem;
            color: white;
            padding: 10px 20px;
            background: rgba(0,0,0,0.5);
            border-radius: 8px;
            text-shadow: 0 2px 4px black;
        }
        #parallax-1 {
            background: radial-gradient(circle, var(--gold) 0%, var(--background) 70%);
            background-attachment: fixed; background-position: center;
        }
        #parallax-2 {
            background: radial-gradient(circle, var(--dark-blue) 0%, var(--background) 70%);
            background-attachment: fixed; background-position: center;
        }
        
        /* =================================
           7. ACTION MODULES (Timer, dll)
        ================================= */
        .action-module {
            background: var(--dark-grey);
            border: 1px solid #333;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            margin: 3rem 0;
            position: relative; 
            z-index: 5; 
        }
        .action-module h3 { font-size: 1.8rem; margin-bottom: 20px; }
        #timer-display {
            font-size: 4rem;
            font-weight: 900;
            color: var(--dark-blue);
            margin: 20px 0;
        }
        #fear-input {
            width: 100%;
            background: #222;
            border: 1px solid #444;
            color: white;
            font-size: 1.1rem;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        #fear-input.burning { animation: burn 1s forwards; }
        @keyframes burn {
            0% { opacity: 1; }
            100% { opacity: 0; transform: scale(0.8); }
        }

        /* =================================
           8. IDE BARU #1: "SIMPANG JALAN"
        ================================= */
        #choice-module {
            background: var(--dark-grey);
            border-top: 4px solid var(--dark-blue);
            padding: 40px;
            text-align: center;
            position: relative; 
            z-index: 5; 
        }
        #choice-module h2 {
            font-size: 2.5rem;
            margin-bottom: 30px;
        }
        .choice-doors {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .door-button {
            padding: 25px;
            font-size: 1.5rem;
            font-weight: 900;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        #door-action {
            background: var(--dark-blue);
            color: var(--text-color);
            border: 2px solid var(--dark-blue);
        }
        #door-action:hover { transform: scale(1.03); }
        #door-delay {
            background: transparent;
            color: var(--grey-text);
            border: 2px dashed var(--grey-text);
        }
        #door-delay:hover { background: #111; }
        
        #delay-trap {
            display: none; 
            padding: 40px;
            text-align: center;
        }
        #delay-trap .loader {
            width: 50px;
            height: 50px;
            border: 5px solid var(--dark-grey);
            border-top-color: var(--dark-blue);
            border-radius: 50%;
            margin: 20px auto;
            animation: spin 1.5s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        #delay-trap p { color: var(--grey-text); }
        #cancel-delay {
            font-size: 0.9rem;
            color: var(--grey-text);
            text-decoration: underline;
            cursor: pointer;
            margin-top: 30px;
        }
        
        /* =================================
           9. IDE BARU #1: "RODA MOMENTUM" (SVG ANIMASI)
        ================================= */
        #momentum-wheel-section {
            min-height: 120vh; /* Tinggi agar animasi scroll terasa */
            position: relative;
            background: #0a0a0a;
            max-width: none;
            z-index: 1; 
        }
        #momentum-wheel-container {
            position: sticky; 
            top: 15vh; /* Posisi roda di layar */
            width: 100%;
            height: 70vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #momentum-wheel-svg {
            width: 80%;
            height: 100%;
            max-width: 400px;
        }
        /* Gear/roda akan berputar */
        #momentum-gear {
            transform-origin: center;
            transition: transform 0.2s linear; /* Transisi halus */
        }
        
        /* =================================
           10. IDE BARU #2: "LABIRIN KERAGUAN" (INTERAKTIF)
        ================================= */
        #maze-module {
            background: var(--dark-grey);
            padding: 40px 20px;
            text-align: center;
            position: relative;
            z-index: 5;
        }
        #maze-module h2 { margin-bottom: 20px; }
        #maze-svg {
            width: 100%;
            max-width: 400px;
            margin: 20px auto;
        }
        #maze-svg path {
            fill: none;
            stroke: var(--grey-text);
            stroke-width: 8;
            stroke-linecap: round;
            cursor: pointer;
            transition: stroke 0.3s ease;
        }
        #maze-svg path:hover { stroke: var(--dark-blue); }
        #maze-svg #maze-exit { stroke: var(--gold); } /* Jalur keluar emas */
        #maze-message {
            margin-top: 20px;
            color: var(--grey-text);
            min-height: 1.5em; /* Ruang untuk pesan */
        }
        
        /* =================================
           11. IDE BARU #3: "CERMIN AKSI vs ALASAN" (SCROLL TEXT CHANGE)
        ================================= */
        #mirror-section {
            min-height: 120vh; /* Tinggi agar efek scroll terasa */
            position: relative;
            z-index: 1;
        }
        #mirror-sticky-text {
            position: sticky;
            top: 30vh; /* Posisi teks menempel */
            font-size: 3rem;
            font-weight: 900;
            text-align: center;
            padding: 20px;
            transition: opacity 0.5s ease;
        }
        /* State awal */
        #mirror-reason { opacity: 1; }
        #mirror-action { opacity: 0; position: absolute; top: 0; left: 0; width: 100%; padding: 20px; }
        
        /* =================================
           12. IDE BARU #4: "POHON AKSI" (SVG PROGRESIF)
        ================================= */
        #growth-tree-section {
             min-height: 50vh; /* Tidak perlu terlalu tinggi */
             display: flex;
             flex-direction: column;
             justify-content: center;
             align-items: center;
             text-align: center;
             background: #0a0a0a;
             max-width: none;
             z-index: 1;
        }
        #growth-tree-section h2 { margin-bottom: 30px; }
        #growth-tree-svg {
            width: 200px;
            height: 250px;
        }
        /* Bagian pohon disembunyikan awalnya */
        #growth-tree-svg .branch, #growth-tree-svg .leaf {
            opacity: 0;
            transition: opacity 0.8s ease;
        }
        
        /* =================================
           13. IDE BARU #5: "KARTU AKSI" (FLIP CARDS)
        ================================= */
        #flip-card-gallery {
            text-align: center;
            position: relative; 
            z-index: 5; 
        }
        #flip-card-gallery h2 {
             font-size: 2.5rem;
             margin-bottom: 30px;
        }
        /* ... (CSS Flip Card lainnya tetap sama) ... */
        .card-grid {display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; perspective: 1000px;}
        .flip-card {background-color: transparent; width: 100%; aspect-ratio: 4 / 5; border-radius: 8px; cursor: pointer;}
        .flip-card-inner {position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d;}
        .flip-card:hover .flip-card-inner {transform: rotateY(180deg);}
        .flip-card-front, .flip-card-back {position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border-radius: 8px; padding: 20px; display: flex; flex-direction: column; justify-content: center; align-items: center;}
        .flip-card-front {background-color: var(--dark-grey); border: 1px dashed var(--grey-text); color: var(--grey-text);}
        .flip-card-back {background-color: var(--dark-blue); color: white; transform: rotateY(180deg); border: 1px solid var(--dark-blue);}
        .flip-card-back p { color: white; }
        .flip-card-back strong { color: var(--gold); }
        
        /* =================================
           14. KONTRAK KOMITMEN (+ Audio Echo)
        ================================= */
        #commitment-contract {
            background: var(--dark-grey);
            border-top: 4px solid var(--gold);
            padding: 40px 20px;
            border-radius: 8px;
            position: relative; 
            z-index: 5; 
        }
        #commitment-contract h2 {
            text-align: center;
            color: var(--gold);
            margin-bottom: 30px;
        }
        #contract-form label {
            display: block;
            font-size: 0.9rem;
            color: var(--grey-text);
            margin-bottom: 5px;
        }
        #contract-form input {
            width: 100%;
            background: #222;
            border: 1px solid #444;
            color: white;
            font-size: 1.1rem;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        #contract-form .action-button {
             width: 100%;
             background: var(--gold);
             color: #000;
             font-size: 1.2rem;
        }
        #signed-contract {
            display: none; 
            border: 1px solid var(--gold);
            padding: 30px;
            border-radius: 8px;
            animation: pop-in 0.5s ease;
            text-align: center; /* Rata tengah */
        }
        @keyframes pop-in {from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); }}
        #signed-contract p {
            font-size: 1.2rem;
            line-height: 1.8;
            color: var(--text-color);
        }
        #signed-contract strong {
            color: var(--gold);
            font-size: 1.3rem;
        }
        /* Tombol Echo */
        #echo-button {
            margin-top: 30px;
            background: transparent;
            border: 1px solid var(--gold);
            color: var(--gold);
        }
        #echo-button:hover { background: rgba(255, 215, 0, 0.1); }

        /* =================================
           15. RESPONSIVE DESIGN
        ================================= */
        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            h3 { font-size: 1.5rem; }
            p { font-size: 1rem; }
            
            #hero h1 { font-size: 2.2rem; }
            .chapter-title { font-size: 2.5rem; }
            .parallax-transition h3 { font-size: 1.8rem; }
            
            #timer-display { font-size: 3rem; }
            .action-module h3 { font-size: 1.5rem; }
            #interactive-slider-section h2 { font-size: 1.5rem; }
            #horizontal-gallery h2 { font-size: 1.5rem; }
            #choice-module h2 { font-size: 2rem; }
            .door-button { font-size: 1.2rem; padding: 20px; }
            #flip-card-gallery h2 { font-size: 2rem; }
            #maze-module h2 { font-size: 1.8rem; }
            #mirror-sticky-text { font-size: 2rem; }
            #growth-tree-section h2 { font-size: 1.8rem; }
        }

    </style>
</head>
<body>

    <div id="progress-bar-container">
        <div id="progress-bar"></div>
    </div>

    <section id="hero">
        <div id="hero-content">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="var(--gold)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 20h18L12 4 3 20z"/>
                <path d="m8 12 4-4 4 4-6 4h8"/>
            </svg>
            <h1>Sukses tidak datang dari apa yang kamu pikirkan. Tapi dari <span class="highlight">APA YANG KAU LAKUKAN.</span></h1>
        </div>
    </section>

    <main>

        <section class="content-wrapper" id="intro-section"> <h2>Selamat Datang di "Buku" Aksi</h2>
            <p>Ini bukan halaman motivasi biasa. Ini adalah perjalanan. Sebuah 'deep scroll' ke dalam satu-satunya hukum yang benar-benar penting. Lupakan 'Law of Attraction'. Lupakan harapan pasif. Di sini, kita hanya percaya pada satu hal: <span class="highlight">Tindakan Nyata.</span></p>
            <p>Teruslah scroll. Setiap bab dirancang untuk mengubah cara pandang Anda. Dan yang lebih penting, mengubah apa yang Anda lakukan setelah menutup browser ini.</p>
        </section>

        <section class="content-wrapper" id="bab1-section"> <h2 class="chapter-title">Bab I: <br>Mitos <span class="highlight">Ide Brilian</span></h2>
            <div class="svg-container"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">...</svg>
            </div>
            <h3>Ide Tidak Ada Harganya</h3>
            <p>...</p>
            <h3>Kutukan "Nanti"</h3>
            <p>...</p>
        </section>
        
        <section id="interactive-slider-section">...</section>
        
        <section id="choice-module" class="content-wrapper">...</section>

        <div id="chapter-2-wrapper" style="display: none;">
            
            <section id="momentum-wheel-section">
                <div id="momentum-wheel-container">
                    <svg id="momentum-wheel-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="50" cy="50" r="40" fill="none" stroke="var(--grey-text)" stroke-width="2"/>
                        <g id="momentum-gear">
                            <circle cx="50" cy="50" r="30" fill="var(--gold)"/>
                            <path d="M50,10 L55,20 L45,20 Z" fill="var(--gold)" transform="rotate(0 50 50)"/>
                            <path d="M50,10 L55,20 L45,20 Z" fill="var(--gold)" transform="rotate(45 50 50)"/>
                            <path d="M50,10 L55,20 L45,20 Z" fill="var(--gold)" transform="rotate(90 50 50)"/>
                            <path d="M50,10 L55,20 L45,20 Z" fill="var(--gold)" transform="rotate(135 50 50)"/>
                            <path d="M50,10 L55,20 L45,20 Z" fill="var(--gold)" transform="rotate(180 50 50)"/>
                            <path d="M50,10 L55,20 L45,20 Z" fill="var(--gold)" transform="rotate(225 50 50)"/>
                            <path d="M50,10 L55,20 L45,20 Z" fill="var(--gold)" transform="rotate(270 50 50)"/>
                            <path d="M50,10 L55,20 L45,20 Z" fill="var(--gold)" transform="rotate(315 50 50)"/>
                        </g>
                    </svg>
                </div>
            </section>
            
            <main> <section class="content-wrapper" id="bab2-section"> <h2 class="chapter-title">Bab II: <br>Musuh Sebenarnya, <span class="highlight">Kelambanan</span></h2>
                    <div class="svg-container"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">...</svg>
                    </div>
                    <h3>Ini Bukan Malas, Ini Takut</h3>
                    <p>...</p>
                    <div class="action-module">...</div>
                </section>
                
                <section id="maze-module">
                    <h2>Keluar dari <span class="highlight">Labirin Keraguan</span></h2>
                    <p>Pilih jalur yang benar untuk melanjutkan.</p>
                    <svg id="maze-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path id="maze-wrong1" d="M10 10 H 50 V 30 H 30"/>
                        <path id="maze-wrong2" d="M10 10 V 90 H 70"/>
                        <path id="maze-exit" d="M10 10 H 90 V 90 H 10"/> 
                    </svg>
                    <div id="maze-message"></div>
                </section>
            </main> </div> <section id="mirror-section">
            <div id="mirror-sticky-text">
                <span id="mirror-reason">Alasan Saya: <br>"Saya Belum Siap..."</span>
                <span id="mirror-action">Aksi Saya: <br>"Saya Mulai Sekarang."</span>
            </div>
        </section>
        
        <section id="growth-tree-section">
            <h2>Pohon <span class="highlight">Pertumbuhan Aksi</span> Anda</h2>
            <svg id="growth-tree-svg" viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg">
                <line x1="50" y1="110" x2="50" y2="70" stroke="var(--gold)" stroke-width="4"/>
                <g class="branch" id="branch1">
                    <line x1="50" y1="90" x2="30" y2="70" stroke="var(--gold)" stroke-width="3"/>
                    <circle class="leaf" cx="30" cy="70" r="5" fill="var(--gold)"/>
                </g>
                 <g class="branch" id="branch2">
                    <line x1="50" y1="80" x2="70" y2="60" stroke="var(--gold)" stroke-width="3"/>
                    <circle class="leaf" cx="70" cy="60" r="5" fill="var(--gold)"/>
                </g>
                 <g class="branch" id="branch3">
                    <line x1="50" y1="70" x2="50" y2="40" stroke="var(--gold)" stroke-width="3"/>
                    <circle class="leaf" cx="50" cy="40" r="5" fill="var(--gold)"/>
                </g>
            </svg>
        </section>

        <section id="flip-card-gallery" class="content-wrapper">...</section>
        
        <main> <section id="commitment-contract" class="content-wrapper">
                 <h2>Kontrak Komitmen Aksi</h2>
                 <form id="contract-form">...</form>
                 <div id="signed-contract">
                     <h3>Kontrak Ditandatangani.</h3>
                     <p>Saya, <strong><span id="signed-name"></span></strong>,</p>
                     <p>...</p>
                     <p><strong>"<span id="signed-goal"></span>"</strong></p>
                     <br>
                     <p>...</p>
                     <button id="echo-button" class="action-button">Dengarkan Gema Komitmen</button>
                 </div>
                 <audio id="commitment-echo" src=""></audio>
            </section>
        </main> <section class="parallax-transition" id="parallax-1">...</section>
    <section class="parallax-transition" id="parallax-2">...</section>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- [1] FUNGSI UNTUK PROGRESS BAR ---
            const progressBar = document.getElementById('progress-bar');
            function updateProgressBar() {
                const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                if (scrollHeight > 0) {
                    const progress = (scrollTop / scrollHeight) * 100;
                    progressBar.style.width = progress + '%';
                }
            }
            window.addEventListener('scroll', updateProgressBar);

            // --- [2] FUNGSI UNTUK ACTION SLIDER (Tarik Bar) ---
            const slider = document.getElementById('action-slider');
            const afterWrapper = document.getElementById('after-wrapper');
            if(slider && afterWrapper) {
                slider.addEventListener('input', (e) => {
                    afterWrapper.style.width = e.target.value + '%';
                });
            }

            // --- [3] FUNGSI UNTUK ACTION MODULE (Timer) ---
            const timerButton = document.getElementById('start-timer-btn');
            const timerDisplay = document.getElementById('timer-display');
            const timerDone = document.getElementById('timer-done');
            let timerInterval;
            if (timerButton) {
                timerButton.addEventListener('click', () => {
                    let secondsLeft = 300; 
                    timerButton.disabled = true;
                    timerButton.textContent = "BERJALAN...";
                    if (timerInterval) clearInterval(timerInterval); 
                    timerInterval = setInterval(() => {
                        secondsLeft--;
                        let minutes = Math.floor(secondsLeft / 60);
                        let seconds = secondsLeft % 60;
                        minutes = minutes < 10 ? '0' + minutes : minutes;
                        seconds = seconds < 10 ? '0' + seconds : seconds;
                        timerDisplay.textContent = ${minutes}:${seconds};
                        if (secondsLeft <= 0) {
                            clearInterval(timerInterval);
                            timerDisplay.textContent = "00:00";
                            timerButton.style.display = 'none';
                            timerDone.style.display = 'block';
                        }
                    }, 1000);
                });
            }
            
            // --- [4] IDE BARU #1: "SIMPANG JALAN" (PERBAIKAN SCROLL) ---
            const doorAction = document.getElementById('door-action');
            const doorDelay = document.getElementById('door-delay');
            const choiceGate = document.getElementById('choice-gate');
            const delayTrap = document.getElementById('delay-trap');
            const cancelDelay = document.getElementById('cancel-delay');
            const chapter2Wrapper = document.getElementById('chapter-2-wrapper'); // Ganti target ke wrapper
            const choiceModule = document.getElementById('choice-module'); // Target section simpang jalan

            if(doorAction) {
                doorAction.addEventListener('click', () => {
                    choiceGate.style.display = 'none'; 
                    delayTrap.style.display = 'none'; 
                    chapter2Wrapper.style.display = 'block'; 
                    
                    // PERBAIKAN: Scroll ke setelah section simpang jalan
                    const offsetTop = choiceModule.offsetTop + choiceModule.offsetHeight; 
                    window.scrollTo({ top: offsetTop, behavior: 'smooth' });
                });
            }
            if(doorDelay) {
                doorDelay.addEventListener('click', () => {
                    choiceGate.style.display = 'none'; 
                    delayTrap.style.display = 'block'; 
                });
            }
            if(cancelDelay) {
                cancelDelay.addEventListener('click', () => {
                    delayTrap.style.display = 'none'; 
                    choiceGate.style.display = 'block'; 
                });
            }
            
            // --- [5] IDE BARU #2: "RODA MOMENTUM" ---
            const gear = document.getElementById('momentum-gear');
            const momentumSection = document.getElementById('momentum-wheel-section');
            if(gear && momentumSection) {
                window.addEventListener('scroll', () => {
                    const sectionTop = momentumSection.offsetTop;
                    const sectionHeight = momentumSection.offsetHeight;
                    const scrollY = window.scrollY;
                    
                    // Hitung seberapa jauh user scroll di dalam section ini (0 sampai 1)
                    let scrollPercent = (scrollY - sectionTop) / (sectionHeight - window.innerHeight);
                    scrollPercent = Math.max(0, Math.min(1, scrollPercent)); // Batasi 0-1
                    
                    // Putar gear berdasarkan scroll (misal, 3 putaran penuh)
                    const rotation = scrollPercent * 360 * 3; 
                    gear.style.transform = rotate(${rotation}deg);
                });
            }

            // --- [6] IDE BARU #3: "LABIRIN KERAGUAN" ---
            const mazeExit = document.getElementById('maze-exit');
            const mazeWrongPaths = document.querySelectorAll('#maze-svg path:not(#maze-exit)');
            const mazeMessage = document.getElementById('maze-message');
            const mazeModule = document.getElementById('maze-module');

            if(mazeExit) {
                mazeExit.addEventListener('click', () => {
                    mazeMessage.textContent = "Benar! Anda keluar dari keraguan.";
                    mazeMessage.style.color = 'var(--gold)';
                    // Scroll ke section berikutnya setelah berhasil
                    const nextSection = mazeModule.nextElementSibling || mazeModule.parentNode.nextElementSibling;
                    if(nextSection) {
                         setTimeout(() => { // Beri jeda sedikit
                             nextSection.scrollIntoView({ behavior: 'smooth'});
                         }, 500);
                    }
                });
            }
            mazeWrongPaths.forEach(path => {
                path.addEventListener('click', () => {
                    mazeMessage.textContent = "Jalan buntu. Coba lagi.";
                    mazeMessage.style.color = 'red';
                });
            });
            
            // --- [7] IDE BARU #4: "CERMIN AKSI vs ALASAN" ---
            const mirrorSection = document.getElementById('mirror-section');
            const reasonText = document.getElementById('mirror-reason');
            const actionText = document.getElementById('mirror-action');
            
            if(mirrorSection && reasonText && actionText) {
                window.addEventListener('scroll', () => {
                    const sectionTop = mirrorSection.offsetTop;
                    const sectionHeight = mirrorSection.offsetHeight;
                    const scrollY = window.scrollY;
                    const windowHeight = window.innerHeight;
                    
                    // Hitung progress scroll di dalam section (0 sampai 1)
                    let scrollPercent = (scrollY - sectionTop + windowHeight / 2) / sectionHeight;
                    scrollPercent = Math.max(0, Math.min(1, scrollPercent));
                    
                    // Ubah opacity berdasarkan scroll
                    reasonText.style.opacity = 1 - scrollPercent;
                    actionText.style.opacity = scrollPercent;
                });
            }

            // --- [8] IDE BARU #5: "POHON AKSI" ---
            const treeBranches = document.querySelectorAll('#growth-tree-svg .branch');
            const treeLeaves = document.querySelectorAll('#growth-tree-svg .leaf');
            const bab1Section = document.getElementById('bab1-section'); // Tandai bagian Bab 1
            const bab2Section = document.getElementById('bab2-section'); // Tandai bagian Bab 2
            const contractSection = document.getElementById('commitment-contract'); // Tandai bagian Kontrak
            
            if(treeBranches.length > 0 && bab1Section && bab2Section && contractSection) {
                 const treeObserver = new IntersectionObserver((entries) => {
                     entries.forEach(entry => {
                         if(entry.isIntersecting) {
                             if(entry.target.id === 'bab1-section' && treeBranches[0]) {
                                 treeBranches[0].style.opacity = '1';
                             } else if (entry.target.id === 'bab2-section' && treeBranches[1]) {
                                 treeBranches[1].style.opacity = '1';
                             } else if (entry.target.id === 'commitment-contract' && treeBranches[2]) {
                                 treeBranches[2].style.opacity = '1';
                                 // Tampilkan semua daun saat kontrak tercapai
                                 treeLeaves.forEach(leaf => leaf.style.opacity = '1');
                             }
                         }
                     });
                 }, { threshold: 0.5 }); // 50% section terlihat
                 
                 treeObserver.observe(bab1Section);
                 treeObserver.observe(bab2Section);
                 treeObserver.observe(contractSection);
            }

            // --- [9] IDE BARU #6: "KONTRAK KOMITMEN" (+ ECHO) ---
            const contractForm = document.getElementById('contract-form');
            const signedContract = document.getElementById('signed-contract');
            const echoButton = document.getElementById('echo-button');
            const commitmentEcho = document.getElementById('commitment-echo');
            let userCommitmentText = ''; // Simpan teks komitmen

            if (contractForm && signedContract && echoButton && commitmentEcho) {
                contractForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const name = document.getElementById('contract-name').value;
                    const goal = document.getElementById('contract-goal').value;
